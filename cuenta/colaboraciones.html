<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Colaboraciones | OFFSZN</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Icons and Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0a;
        }
        .font-montserrat {
            font-family: 'Montserrat', sans-serif;
        }
        .skeleton-loader {
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.03) 25%, 
                rgba(255, 255, 255, 0.08) 50%, 
                rgba(255, 255, 255, 0.03) 75%
            );
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s ease-in-out infinite;
            color: transparent !important;
            user-select: none;
            border-radius: 4px;
        }
        .skeleton-avatar {
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.05) 25%, 
                rgba(255, 255, 255, 0.1) 50%, 
                rgba(255, 255, 255, 0.05) 75%
            );
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s ease-in-out infinite;
            border-radius: 50% !important;
        }
        .skeleton-text {
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.05) 25%, 
                rgba(255, 255, 255, 0.1) 50%, 
                rgba(255, 255, 255, 0.05) 75%
            );
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s ease-in-out infinite;
            border-radius: 4px;
            height: 1em;
            min-width: 80px;
            display: inline-block;
            color: transparent !important;
        }
        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        .scrollbar-thin {
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
        }
        .scrollbar-thin::-webkit-scrollbar {
            width: 5px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
            background: transparent;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            border: 3px solid transparent;
        }
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
    </style>
    
    <!-- React -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client"
      }
    }
    </script>
    
    <!-- Babel for JSX compilation in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body class="bg-black text-[#e5e5e5] overflow-x-hidden">
    <div id="root"></div>
    
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import ReactDOM from 'react-dom/client';

        // --- TYPES ---
        interface User {
            id: string;
            firstName?: string;
            lastName?: string;
            nickname: string;
            email: string;
            avatarInitial: string;
            is_producer: boolean;
            balance?: number;
        }

        interface Collaboration {
          id: string;
          user: {
            name: string;
            role: string;
            avatarInitial: string;
            isVerified: boolean;
          };
          time: string;
          title: string;
          description: string;
          tags: string[];
          responses: number;
        }

        interface FeaturedCollaboration {
            id: string;
            partners: string;
            partnerAvatars: string[];
            type: string;
            description: string;
            stats: {
                views: string;
                responses: string;
                budget: string;
            };
        }

        // --- NAVBAR COMPONENT ---
        const NavDropdown = ({ title, children }) => {
            return (
                <li className="group relative">
                    <a className="text-[#999] group-hover:text-white transition-colors duration-200 text-sm font-medium flex items-center gap-1.5 cursor-pointer py-2">
                        {title} <i className="fas fa-chevron-down text-[0.7rem] transition-transform duration-200 group-hover:rotate-180"></i>
                    </a>
                    <div className="absolute top-full left-1/2 -translate-x-1/2 pt-3 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform-gpu group-hover:translate-y-0 -translate-y-2">
                        <div className="bg-[rgba(20,20,20,0.98)] border border-[rgba(255,255,255,0.1)] rounded-xl shadow-2xl backdrop-blur-lg p-2 min-w-[240px]">
                            {children}
                        </div>
                    </div>
                </li>
            );
        };

        const DropdownItem = ({ icon, text, href="#"}) => (
             <a href={href} className="flex items-center gap-3 p-2.5 text-[#999] hover:text-white hover:bg-violet-500/10 rounded-lg text-sm transition-colors font-medium">
                <i className={`w-5 text-center ${icon}`}></i>
                <span>{text}</span>
            </a>
        );

        const UserDropdownItem = ({ icon, text, href="#", disabled, soon, isLogout }) => {
            const baseClasses = "flex items-center gap-2.5 px-3 py-2 text-sm rounded-lg transition-colors";
            const colorClasses = isLogout 
                ? "text-red-500 hover:bg-red-500/10" 
                : "text-zinc-400 hover:bg-violet-500/10 hover:text-white";
            const disabledClasses = disabled ? "opacity-40 cursor-not-allowed" : "";

            return (
                 <a href={disabled ? undefined : href} className={`${baseClasses} ${colorClasses} ${disabledClasses}`}>
                    <i className={`w-4 text-center ${icon}`}></i>
                    <span>{text}</span>
                    {soon && <span className="ml-auto bg-white/10 text-zinc-500 px-2 py-0.5 rounded-md text-[10px] font-bold uppercase">Pronto</span>}
                </a>
            )
        }

        const Navbar = ({ user, loading }) => {
            const [userDropdownOpen, setUserDropdownOpen] = useState(false);
            const dropdownRef = useRef(null);

            useEffect(() => {
                const handleClickOutside = (event) => {
                    if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {
                        setUserDropdownOpen(false);
                    }
                };
                document.addEventListener("mousedown", handleClickOutside);
                return () => document.removeEventListener("mousedown", handleClickOutside);
            }, [dropdownRef]);

            const initial = user?.avatarInitial || 'U';

            return (
                <nav className="sticky top-0 z-50 flex items-center justify-between px-6 sm:px-12 py-2 bg-[rgba(0,0,0,0.98)] border-b border-[rgba(255,255,255,0.08)] backdrop-blur-xl">
                    <div className="text-2xl font-extrabold tracking-tight text-white">
                        <a href="dashboard">OFFSZN</a>
                    </div>
                    <div className="hidden lg:flex items-center gap-10">
                        <ul className="flex items-center gap-8">
                            <li><a href="dashboard" className="text-[#999] hover:text-white transition-colors duration-200 text-sm font-medium">INICIO</a></li>
                            <NavDropdown title="RECURSOS">
                                <DropdownItem icon="fas fa-music" text="Beats & Instrumentales" href="beats" />
                                <DropdownItem icon="fas fa-drum" text="Drum Kits" href="drum-kits" />
                                <DropdownItem icon="fas fa-sliders-h" text="Presets & Plugins" href="presets" />
                                <DropdownItem icon="fas fa-wave-square" text="Samples & Loops" href="samples" />
                                <div className="h-[1px] bg-white/10 my-2 mx-2"></div>
                                <DropdownItem icon="fas fa-gift" text="Recursos Gratis" href="free-resources" />
                            </NavDropdown>
                             <NavDropdown title="COMUNIDAD">
                                <DropdownItem icon="fas fa-home" text="Feed" href="feed" />
                                <DropdownItem icon="fas fa-users" text="Productores" href="productores" />
                                <DropdownItem icon="fas fa-handshake" text="Colaboraciones" href="colaboraciones" />
                                <div className="h-[1px] bg-white/10 my-2 mx-2"></div>
                                <DropdownItem icon="fas fa-comments" text="Foros" href="foros" />
                                <DropdownItem icon="fas fa-calendar" text="Eventos" href="eventos" />
                            </NavDropdown>
                        </ul>
                        <div className="relative w-96">
                            <input type="text" placeholder="Buscar beats, kits, productores..." className="w-full pl-4 pr-10 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white text-sm outline-none focus:bg-white/10 focus:border-violet-500/50 transition-all duration-200" />
                            <i className="fas fa-search absolute right-4 top-1/2 -translate-y-1/2 text-zinc-500 text-sm"></i>
                        </div>
                    </div>
                    <div className="flex items-center gap-3">
                        <a href="notifications" className="flex items-center justify-center w-9 h-9 bg-white/5 border border-white/10 rounded-lg text-[#999] hover:bg-white/10 hover:text-white transition-all duration-200">
                            <i className="fas fa-bell"></i>
                        </a>
                        <a href="cart" className="flex items-center justify-center w-9 h-9 bg-white/5 border border-white/10 rounded-lg text-[#999] hover:bg-white/10 hover:text-white transition-all duration-200">
                            <i className="fas fa-shopping-cart"></i>
                        </a>
                        <div className="relative" ref={dropdownRef}>
                            <button onClick={() => setUserDropdownOpen(!userDropdownOpen)} className="flex items-center justify-center w-9 h-9 bg-white/5 border border-white/10 rounded-lg text-[#999] hover:bg-white/10 hover:text-white transition-all duration-200">
                                <i className="fas fa-user"></i>
                            </button>
                            <div className={`absolute top-full right-0 mt-3 w-64 bg-[rgba(20,20,20,0.98)] border border-white/10 rounded-xl shadow-2xl backdrop-blur-lg p-3 transition-all duration-300 transform-gpu ${userDropdownOpen ? 'opacity-100 visible translate-y-0' : 'opacity-0 invisible -translate-y-2'}`}>
                                <div className="flex items-center gap-3 p-3 border-b border-white/10 mb-2">
                                    <div className="user-dropdown-avatar flex items-center justify-center w-10 h-10 rounded-full bg-zinc-800 font-bold text-zinc-500 text-base skeleton-avatar"></div>
                                    <div className="flex-1 overflow-hidden">
                                        <p className="user-dropdown-name font-semibold text-sm text-white truncate skeleton-text">Cargando...</p>
                                        <p className="user-dropdown-email text-xs text-zinc-500 truncate skeleton-text">email@loading.com</p>
                                    </div>
                                </div>
                                <UserDropdownItem icon="fas fa-user-circle" text="Mi Perfil" href="profile" />
                                <UserDropdownItem icon="fas fa-th-large" text="Dashboard" href="dashboard" />
                                <UserDropdownItem icon="fas fa-wallet" text="Billetera" href="wallet" />
                                <UserDropdownItem icon="fas fa-shopping-bag" text="Mis Compras" href="mis-compras" />
                                <UserDropdownItem icon="fas fa-heart" text="Favoritos" href="favoritos" />
                                <UserDropdownItem icon="fas fa-chart-line" text="Analíticas" disabled soon />
                                <UserDropdownItem icon="fas fa-cog" text="Configuración" href="account-settings" />
                                <UserDropdownItem icon="fas fa-question-circle" text="Ayuda" href="help" />
                                <div className="mt-2 pt-2 border-t border-white/10">
                                    <UserDropdownItem icon="fas fa-sign-out-alt" text="Cerrar Sesión" href="logout" isLogout />
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            );
        };
        
        // --- SIDEBAR COMPONENT ---
        const MenuItem = ({ icon, text, href = "#", active, disabled, soon, badge }) => {
            const activeClasses = 'bg-violet-500/10 text-white border-l-2 border-violet-500';
            const defaultClasses = 'text-zinc-400 hover:bg-white/5 hover:text-white';
            const disabledClasses = 'text-zinc-600 cursor-not-allowed opacity-40';

            const classes = `flex items-center gap-3 px-5 py-2.5 text-sm font-medium transition-colors ${
                active ? activeClasses : (disabled ? disabledClasses : defaultClasses)
            }`;

            return (
                <a href={disabled ? undefined : href} className={classes}>
                    <i className={`w-4 text-center text-base ${icon}`}></i>
                    <span className="flex-1">{text}</span>
                    {soon && <span className="ml-auto bg-white/10 text-zinc-500 px-2 py-0.5 rounded-md text-[10px] font-bold uppercase">Pronto</span>}
                    {badge && <span className="ml-auto bg-violet-600 text-white px-2 py-0.5 rounded-full text-xs font-bold">{badge}</span>}
                </a>
            );
        };

        const Sidebar = ({ user, loading, activePage }) => {
            const initial = user?.avatarInitial || '?';
            const profileName = `${user?.firstName || ''} ${user?.lastName || ''}`.trim() || user?.nickname || 'Usuario';
            
            return (
                <aside className="bg-[rgba(15,15,15,0.6)] border-b xl:border-b-0 xl:border-r border-white/10 xl:sticky xl:top-[57px] xl:h-[calc(100vh-57px)] xl:overflow-y-auto scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent">
                    <div className="p-5 border-b border-white/10">
                        <div className="flex items-center gap-3">
                            <div className="profile-avatar flex items-center justify-center w-11 h-11 rounded-full bg-zinc-800 font-bold text-xl text-zinc-500 skeleton-avatar">?</div>
                            <div className="flex-1 overflow-hidden">
                                <div className="profile-name font-semibold text-white truncate skeleton-text">Cargando...</div>
                            </div>
                        </div>
                    </div>
                    <div className="p-5 border-b border-white/10 bg-violet-500/5">
                        <div className="text-xs text-zinc-400 uppercase tracking-wider font-semibold mb-1.5">Saldo Disponible</div>
                        <div className="wallet-amount text-3xl font-bold text-white skeleton-text">$0.00</div>
                    </div>
                     {user?.is_producer && (
                        <div className="p-5">
                            <button className="w-full py-3.5 px-4.5 bg-violet-600 text-white rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-violet-700 hover:-translate-y-0.5 transition-all duration-200 text-sm">
                                <i className="fas fa-cloud-upload-alt"></i>
                                Subir Kit
                            </button>
                        </div>
                    )}
                    <div className="px-5 pb-2 pt-5">
                         <div className="relative">
                            <input type="text" placeholder="Buscar..." className="w-full pl-4 pr-10 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white text-sm outline-none focus:bg-white/10 focus:border-violet-500/50 transition-all duration-200" />
                            <i className="fas fa-search absolute right-4 top-1/2 -translate-y-1/2 text-zinc-500 text-sm"></i>
                        </div>
                    </div>
                    <nav className="py-3">
                        <div className="px-5 py-3 text-xs text-zinc-500 uppercase tracking-widest font-bold">Principal</div>
                        <MenuItem icon="fas fa-th-large" text="Dashboard" href="dashboard" active={activePage === 'Dashboard'} />
                        {user?.is_producer && <MenuItem icon="fas fa-music" text="Mis Kits" href="mis-kits" active={activePage === 'Mis Kits'} />}
                        {user?.is_producer && <MenuItem icon="fas fa-chart-line" text="Analíticas" disabled soon />}
                        <MenuItem icon="fas fa-heart" text="Favoritos" href="favoritos" active={activePage === 'Favoritos'}/>
                        <MenuItem icon="fas fa-history" text="Historial" active={activePage === 'Historial'}/>
                        <div className="mx-5 my-3 border-t border-white/10"></div>
                        <div className="px-5 py-3 text-xs text-zinc-500 uppercase tracking-widest font-bold">Colaboración</div>
                        <MenuItem icon="fas fa-users" text="Colaboraciones" href="colaboraciones" active={activePage === 'Colaboraciones'}/>
                        <div className="mx-5 my-3 border-t border-white/10"></div>
                        <div className="px-5 py-3 text-xs text-zinc-500 uppercase tracking-widest font-bold">Compras</div>
                        <MenuItem icon="fas fa-shopping-bag" text="Mis Compras" href="mis-compras" active={activePage === 'Mis Compras'}/>
                        <MenuItem icon="fas fa-gift" text="Gift Cards" href="Gift-Cards" active={activePage === 'Gift Cards'}/>
                        <MenuItem icon="fas fa-envelope" text="Mensajes" href="messages" active={activePage === 'Mensajes'}/>
                        <div className="mx-5 my-3 border-t border-white/10"></div>
                        <div className="px-5 py-3 text-xs text-zinc-500 uppercase tracking-widest font-bold">Configuración</div>
                        <MenuItem icon="fas fa-cog" text="Configuración" href="account-settings" active={activePage === 'Configuración'}/>
                        <MenuItem icon="fas fa-book-open" text="Blog" href="blog" active={activePage === 'Blog'}/>
                    </nav>
                    <div className="p-5 mt-4">
                         <a href="logout" className="logout-btn w-full py-3 bg-red-500/10 border border-red-500/20 text-red-500 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-red-500/15 hover:border-red-500/30 transition-all duration-200 text-sm">
                            <i className="fas fa-sign-out-alt"></i>
                            Cerrar Sesión
                        </a>
                    </div>
                </aside>
            );
        };

        // --- MAINCONTENT COMPONENT ---
        const FeaturedCard = ({ collab }) => (
            <div className="bg-[rgba(26,10,46,0.4)] border-2 border-violet-900/60 rounded-2xl p-8 transition-all duration-300 hover:border-violet-700 hover:shadow-2xl hover:shadow-violet-900/50 hover:-translate-y-2 relative overflow-hidden">
                <div className="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-violet-600 via-violet-500 to-violet-600" style={{ backgroundSize: '200% 100%', animation: 'gradientShift 3s ease infinite' }}></div>
                <div className="inline-flex items-center gap-2 bg-gradient-to-r from-violet-600 to-violet-500 text-white px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider mb-6">
                    <i className="bi bi-trending-up"></i>
                    Destacado
                </div>
                <div className="flex items-center gap-4 mb-6">
                    <div className="flex -space-x-4">
                        {collab.partnerAvatars.map((avatar, index) => (
                            <div key={index} className="w-16 h-16 rounded-full bg-gradient-to-br from-violet-600 to-violet-500 flex items-center justify-center text-2xl font-bold text-white border-2 border-violet-900/50">{avatar}</div>
                        ))}
                    </div>
                    <div>
                        <h3 className="font-montserrat text-xl font-bold text-white">{collab.partners}</h3>
                        <p className="text-sm font-semibold text-violet-400 uppercase tracking-wide">{collab.type}</p>
                    </div>
                </div>
                <p className="text-zinc-300 mb-6 text-base leading-relaxed">{collab.description}</p>
                <div className="grid grid-cols-3 gap-4 bg-violet-900/20 border border-violet-900/30 rounded-xl p-4 mb-6">
                    <div className="text-center">
                        <span className="block text-2xl font-bold text-violet-300">{collab.stats.views}</span>
                        <span className="block text-xs text-zinc-400 uppercase tracking-wide">Vistas</span>
                    </div>
                    <div className="text-center">
                        <span className="block text-2xl font-bold text-violet-300">{collab.stats.responses}</span>
                        <span className="block text-xs text-zinc-400 uppercase tracking-wide">Respuestas</span>
                    </div>
                    <div className="text-center">
                        <span className="block text-2xl font-bold text-violet-300">{collab.stats.budget}</span>
                        <span className="block text-xs text-zinc-400 uppercase tracking-wide">Presupuesto</span>
                    </div>
                </div>
                <button className="w-full bg-gradient-to-r from-violet-600 to-violet-500 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 hover:shadow-lg hover:shadow-violet-500/50 hover:-translate-y-0.5 transition-all">
                    Ver Detalles <i className="bi bi-arrow-right"></i>
                </button>
            </div>
        );

        const GeneralCard = ({ collab }) => (
            <div className="bg-[rgba(26,10,46,0.4)] border border-violet-900/40 rounded-xl p-6 transition-all duration-300 hover:border-violet-700 hover:shadow-xl hover:shadow-violet-900/40 hover:-translate-y-1">
                <div className="flex items-start justify-between mb-4">
                    <div className="flex items-center gap-3">
                        <div className="w-12 h-12 rounded-full bg-gradient-to-br from-violet-600 to-violet-500 flex items-center justify-center font-bold text-white text-lg border-2 border-violet-900/50">{collab.user.avatarInitial}</div>
                        <div>
                            <h4 className="font-bold text-white flex items-center gap-1.5">{collab.user.name} {collab.user.isVerified && <i className="bi bi-patch-check-fill text-green-400 text-sm"></i>}</h4>
                            <p className="text-xs text-zinc-400">{collab.user.role}</p>
                        </div>
                    </div>
                    <p className="text-xs text-zinc-500 flex items-center gap-1.5"><i className="bi bi-clock"></i>{collab.time}</p>
                </div>
                <h3 className="text-lg font-bold text-white mb-2 leading-snug">{collab.title}</h3>
                <p className="text-sm text-zinc-300 mb-4 leading-relaxed">{collab.description}</p>
                <div className="flex flex-wrap gap-2 mb-4">
                    {collab.tags.map(tag => (
                        <span key={tag} className="bg-violet-500/10 text-violet-300 text-xs font-semibold px-3 py-1 rounded-full border border-violet-500/20">{tag}</span>
                    ))}
                </div>
                <div className="pt-4 border-t border-white/10 flex items-center justify-between">
                    <p className="text-sm text-zinc-400 flex items-center gap-2"><i className="bi bi-chat-dots"></i>{collab.responses} respuestas</p>
                    <button className="bg-transparent border border-violet-700/50 text-violet-300 text-sm font-semibold px-4 py-1.5 rounded-md hover:bg-violet-500/10 hover:border-violet-700 transition-colors">Responder</button>
                </div>
            </div>
        );

        const SkeletonFeaturedCard = () => (
            <div className="bg-[rgba(26,10,46,0.4)] border-2 border-violet-900/60 rounded-2xl p-8">
                <div className="h-7 w-32 rounded-full skeleton-loader mb-6"></div>
                <div className="flex items-center gap-4 mb-6">
                    <div className="flex -space-x-4">
                         <div className="w-16 h-16 rounded-full skeleton-loader border-2 border-violet-900/50"></div>
                         <div className="w-16 h-16 rounded-full skeleton-loader border-2 border-violet-900/50"></div>
                    </div>
                    <div className="flex-1">
                        <div className="h-6 w-3/4 rounded skeleton-loader mb-2"></div>
                        <div className="h-4 w-1/2 rounded skeleton-loader"></div>
                    </div>
                </div>
                <div className="h-5 w-full rounded skeleton-loader mb-2"></div>
                <div className="h-5 w-full rounded skeleton-loader mb-2"></div>
                <div className="h-5 w-3/4 rounded skeleton-loader mb-6"></div>
                <div className="grid grid-cols-3 gap-4 bg-violet-900/20 rounded-xl p-4 mb-6">
                    <div className="h-14 rounded-md skeleton-loader"></div>
                    <div className="h-14 rounded-md skeleton-loader"></div>
                    <div className="h-14 rounded-md skeleton-loader"></div>
                </div>
                <div className="h-12 w-full rounded-lg skeleton-loader"></div>
            </div>
        );

        const SkeletonGeneralCard = () => (
            <div className="bg-[rgba(26,10,46,0.4)] border border-violet-900/40 rounded-xl p-6">
                <div className="flex items-start justify-between mb-4">
                    <div className="flex items-center gap-3">
                        <div className="w-12 h-12 rounded-full skeleton-loader"></div>
                        <div>
                            <div className="h-5 w-28 rounded skeleton-loader mb-1.5"></div>
                            <div className="h-3 w-20 rounded skeleton-loader"></div>
                        </div>
                    </div>
                     <div className="h-3 w-16 rounded skeleton-loader"></div>
                </div>
                <div className="h-6 w-3/4 rounded skeleton-loader mb-3"></div>
                <div className="h-4 w-full rounded skeleton-loader mb-2"></div>
                <div className="h-4 w-5/6 rounded skeleton-loader mb-4"></div>
                <div className="flex gap-2 mb-4">
                    <div className="h-6 w-20 rounded-full skeleton-loader"></div>
                    <div className="h-6 w-16 rounded-full skeleton-loader"></div>
                </div>
                <div className="pt-4 border-t border-white/10 flex items-center justify-between">
                    <div className="h-4 w-24 rounded skeleton-loader"></div>
                    <div className="h-8 w-24 rounded-md skeleton-loader"></div>
                </div>
            </div>
        );

        const MainContent = ({ featured, general, loading }) => {
            return (
                <main>
                    <section className="bg-gradient-to-b from-[#0f0a23] to-[#05050f] text-center py-16 px-6 border-b border-violet-900/30 relative overflow-hidden">
                         <div className="absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(114,9,183,0.15)_0%,_transparent_60%)]"></div>
                         <div className="relative z-10 max-w-3xl mx-auto">
                            <h1 className="font-montserrat text-4xl md:text-5xl font-black text-white uppercase tracking-wider mb-4">Colaboraciones</h1>
                            <p className="text-lg text-zinc-300 max-w-xl mx-auto mb-8">Conecta con productores, artistas y creadores. Encuentra tu próximo colaborador musical.</p>
                            <div className="flex justify-center gap-4">
                                <button className="bg-gradient-to-r from-violet-600 to-violet-500 text-white px-8 py-3 rounded-lg font-bold flex items-center gap-2 hover:shadow-lg hover:shadow-violet-500/50 hover:-translate-y-0.5 transition-all">
                                    Publicar Colaboración <i className="bi bi-arrow-right"></i>
                                </button>
                                <button className="bg-transparent border-2 border-violet-700/50 text-white px-8 py-3 rounded-lg font-bold hover:bg-violet-500/10 hover:border-violet-700 transition-all">
                                    Explorar Talentos
                                </button>
                            </div>
                         </div>
                    </section>
                    <section className="max-w-7xl mx-auto py-16 px-6">
                         <header className="text-center mb-12">
                            <h2 className="font-montserrat text-3xl font-bold text-white flex items-center justify-center gap-3"><i className="bi bi-sparkles text-violet-400"></i>Colaboraciones Destacadas</h2>
                            <p className="text-zinc-400 mt-2">Proyectos premium con mayor visibilidad</p>
                         </header>
                         <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            {loading ? (
                                <>
                                    <SkeletonFeaturedCard />
                                    <SkeletonFeaturedCard />
                                </>
                            ) : (
                                featured.map(collab => <FeaturedCard key={collab.id} collab={collab} />)
                            )}
                         </div>
                    </section>
                    <section className="bg-[rgba(15,10,35,0.5)] py-16 px-6 border-t border-violet-900/40">
                        <div className="max-w-7xl mx-auto">
                            <header className="text-center mb-12">
                                <h2 className="font-montserrat text-3xl font-bold text-white">Todas las Colaboraciones</h2>
                                <p className="text-zinc-400 mt-2">Encuentra oportunidades en diferentes géneros y roles</p>
                            </header>
                             <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                                 {loading ? (
                                    Array.from({ length: 6 }).map((_, i) => <SkeletonGeneralCard key={i} />)
                                ) : (
                                    general.map(collab => <GeneralCard key={collab.id} collab={collab} />)
                                )}
                            </div>
                        </div>
                    </section>
                </main>
            )
        };



        // --- APP COMPONENT ---
        const App = () => {
            const [user, setUser] = useState(null);
            const [loadingUser, setLoadingUser] = useState(true);
            const [featuredCollabs, setFeaturedCollabs] = useState([]);
            const [generalCollabs, setGeneralCollabs] = useState([]);
            const [loadingContent, setLoadingContent] = useState(true);

            useEffect(() => {
                setLoadingUser(true);
                setLoadingContent(true);
                
                setTimeout(() => {
                    const fetchedUser = {
                        id: '12345',
                        nickname: 'willie inspired',
                        email: 'contact@willieinspired.com',
                        firstName: 'Willie',
                        lastName: 'Inspired',
                        avatarInitial: 'W',
                        is_producer: true,
                        balance: 0.00,
                    };
                    setUser(fetchedUser);
                    setLoadingUser(false);
                }, 1500);

                 setTimeout(() => {
                    setFeaturedCollabs([
                        {
                            id: 'feat-1',
                            partners: 'DJ Alex × MC Storm',
                            partnerAvatars: ['A', 'S'],
                            type: 'Trap Latino',
                            description: 'Buscando crear el próximo hit urbano latino con elementos de trap moderno y lírica impactante. Proyecto orientado a plataformas digitales con presupuesto para promoción.',
                            stats: { views: '2.5K', responses: '47', budget: '$500' }
                        },
                        {
                            id: 'feat-2',
                            partners: 'BeatMaker Pro × Vocalista R&B',
                            partnerAvatars: ['B', 'V'],
                            type: 'R&B / Soul',
                            description: 'Colaboración para crear EP de 5 tracks con sonido neo-soul y producción orgánica. Buscamos voz femenina con rango amplio y experiencia en armonías.',
                            stats: { views: '3.8K', responses: '62', budget: '$1.2K' }
                        }
                    ]);
                    setGeneralCollabs([
                         {
                            id: 'gen-1',
                            user: { name: 'Carlos Méndez', role: 'Productor Musical', avatarInitial: 'C', isVerified: true },
                            time: 'Hace 2 horas',
                            title: 'Productor busca rapero para proyecto de hip-hop',
                            description: 'Tengo varios beats de hip-hop listo para usar. Busco rapero con flow único y experiencia en grabación. El proyecto es para lanzar un single en Spotify.',
                            tags: ['Hip-Hop', 'Rap', 'Colaboración'],
                            responses: 12
                        },
                        {
                            id: 'gen-2',
                            user: { name: 'María González', role: 'Cantante', avatarInitial: 'M', isVerified: true },
                            time: 'Hace 5 horas',
                            title: 'Cantante de pop busca productor para nuevo sencillo',
                            description: 'Busco productor con experiencia en pop comercial. Tengo la letra y melodía lista, necesito alguien que pueda crear la pista y mezclar.',
                            tags: ['Pop', 'Producción', 'Sencillo'],
                            responses: 8
                        },
                        {
                            id: 'gen-3',
                            user: { name: 'DJ Morpheus', role: 'DJ / Productor', avatarInitial: 'D', isVerified: false },
                            time: 'Hace 8 horas',
                            title: 'Productor EDM busca vocalista para track progresivo',
                            description: 'Tengo un track de house progresivo casi terminado. Busco vocalista con estilo etéreo para la melodía principal. Referencias: Lane 8, Yotto.',
                            tags: ['EDM', 'House', 'Vocalista'],
                            responses: 15
                        },
                    ]);
                    setLoadingContent(false);
                }, 1500);

            }, []);

            return (
                <div className="flex flex-col min-h-screen bg-black">
                    <Navbar user={user} loading={loadingUser} />
                    <div className="flex-grow grid grid-cols-1 xl:grid-cols-[260px_1fr]">
                        <Sidebar user={user} loading={loadingUser} activePage="Colaboraciones" />
                        <MainContent featured={featuredCollabs} general={generalCollabs} loading={loadingContent} />
                    </div>
                </div>
            );
        };
        
        // --- RENDER THE APP ---
        const rootElement = document.getElementById('root');
        if (!rootElement) {
          throw new Error("Could not find root element to mount to");
        }

        const root = ReactDOM.createRoot(rootElement);
        root.render(
          <React.StrictMode>
            <App />
          </React.StrictMode>
        );
    </script>
    
    <!-- Script externo con datos reales de Supabase -->
    <script src="colaboraciones.js"></script>
</body>
</html>
            
