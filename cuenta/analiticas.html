<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Analíticas - OFFSZN</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
      /* Google Font 'Inter' */
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
      body {
        font-family: 'Inter', sans-serif;
      }
      /* Custom scrollbar for a sleek, modern look */
      .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 3px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.2);
      }
    </style>
  <!-- Import Map to load React from a CDN -->
  <script type="importmap">
  {
    "imports": {
      "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
      "react": "https://esm.sh/react@18.2.0"
    }
  }
  </script>
</head>
  <body class="bg-[#0a0a0a] text-[#e5e5e5]">
    <!-- The root element where the React app will be mounted -->
    <div id="root"></div>

    <!-- The entire React application logic is contained within this script tag -->
    <script type="module">
      import React, { useState, useEffect, useMemo } from 'react';
      import ReactDOM from 'react-dom/client';

      //================================================================
      // SERVICES / MOCK API
      //================================================================
      const mockUser = {
        id: 'user-123',
        firstName: 'David',
        lastName: 'Reyes',
        nickname: 'davidreyes',
        email: 'david.reyes@offszn.com',
        walletBalance: 125.50,
      };

      const fetchUserData = () => {
        console.log('API Call: Fetching user data...');
        return new Promise(resolve => setTimeout(() => {
          console.log('API Response: User data received.');
          resolve(mockUser);
        }, 1500));
      };

      //================================================================
      // SKELETON COMPONENTS
      //================================================================
      const UserInfoSkeleton = ({ type }) => {
        const navbarSkeleton = React.createElement('div', { className: "flex items-center gap-3 animate-pulse" },
          React.createElement('div', { className: "h-10 w-10 rounded-full bg-white/10" }),
          React.createElement('div', { className: "flex-1 space-y-2" },
            React.createElement('div', { className: "h-3 w-20 rounded bg-white/10" }),
            React.createElement('div', { className: "h-2 w-28 rounded bg-white/10" })
          )
        );
        const sidebarSkeleton = React.createElement('div', { className: "flex items-center gap-3 animate-pulse" },
          React.createElement('div', { className: "h-11 w-11 rounded-full bg-white/10" }),
          React.createElement('div', { className: "flex-1" },
            React.createElement('div', { className: "h-4 w-32 rounded bg-white/10" })
          )
        );
        return type === 'navbar' ? navbarSkeleton : sidebarSkeleton;
      };
      
      //================================================================
      // UI COMPONENTS
      //================================================================
      const menuSections = [
        { title: 'Principal', items: [{ icon: 'fa-th-large', label: 'Dashboard', href: '/dashboard' }, { icon: 'fa-music', label: 'Mis Kits', href: '/mis-kits'}, { icon: 'fa-chart-line', label: 'Analíticas', href: '/analiticas', active: true }, { icon: 'fa-heart', label: 'Favoritos', href: '/favoritos' }, { icon: 'fa-history', label: 'Historial', href: '/historial', soon: true }] },
        { title: 'Colaboración', items: [{ icon: 'fa-users', label: 'Colaboraciones', href: '/colaboraciones' }] },
        { title: 'Compras', items: [{ icon: 'fa-shopping-bag', label: 'Mis Compras', href: '/mis-compras' }, { icon: 'fa-gift', label: 'Gift Cards', href: '/gift-cards' }, { icon: 'fa-envelope', label: 'Mensajes', href: '/mensajes' }] },
        { title: 'Configuración', items: [{ icon: 'fa-cog', label: 'Configuración', href: '/configuracion' }, { icon: 'fa-book-open', label: 'Blog', href: '/blog', soon: true }] }
      ];

      const Sidebar = ({ user, loading }) => {
        const userInitial = user ? (user.firstName || user.nickname || 'U').charAt(0).toUpperCase() : '';
        return React.createElement('aside', { className: "hidden md:flex flex-col sticky top-[65px] h-[calc(100vh-65px)] bg-[rgba(15,15,15,0.6)] border-r border-white/10" },
          React.createElement('div', null,
            React.createElement('div', { className: "p-5 border-b border-white/10" },
              loading ? React.createElement(UserInfoSkeleton, { type: "sidebar" }) : React.createElement('div', { className: "flex items-center gap-3" },
                React.createElement('div', { className: "flex h-11 w-11 items-center justify-center rounded-full bg-violet-600 font-bold text-white text-lg" }, userInitial),
                React.createElement('div', null, React.createElement('p', { className: "font-semibold text-white" }, `${user?.firstName} ${user?.lastName}`))
              )
            ),
            React.createElement('div', { className: "p-5 border-b border-white/10 bg-violet-600/5" },
              React.createElement('div', { className: "text-xs font-semibold uppercase text-gray-400 mb-1.5" }, "Saldo Disponible"),
              loading ? React.createElement('div', { className: "h-8 w-32 animate-pulse rounded-md bg-white/10" }) : React.createElement('div', { className: "text-3xl font-bold text-white" }, `$${user?.walletBalance.toFixed(2)}`)
            )
          ),
          React.createElement('nav', { className: "flex-grow p-3 overflow-y-auto custom-scrollbar" },
            menuSections.map((section, index) => React.createElement('div', { key: section.title },
              index > 0 && React.createElement('div', { className: "my-3 h-px bg-white/10" }),
              React.createElement('h3', { className: "px-2 pt-4 pb-2 text-xs font-bold uppercase text-gray-500 tracking-wider" }, section.title),
              React.createElement('ul', null, section.items.map(item => React.createElement('li', { key: item.label },
                React.createElement('a', { href: item.href, className: `flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${item.active ? 'bg-violet-600/10 text-white' : 'text-gray-400 hover:bg-white/5 hover:text-white'} ${item.soon ? 'opacity-50 cursor-not-allowed' : ''}` },
                  React.createElement('i', { className: `fas ${item.icon} w-5 text-center text-base` }),
                  React.createElement('span', null, item.label),
                  item.soon && React.createElement('span', { className: "ml-auto text-xs font-semibold bg-white/10 text-gray-400 px-2 py-0.5 rounded-full" }, "Pronto")
                )
              )))
            ))
          ),
          React.createElement('div', { className: "p-4 border-t border-white/10" },
            React.createElement('a', { href: "/logout", className: "flex items-center justify-center gap-3 rounded-lg px-3 py-2.5 text-sm font-semibold text-red-400 border border-red-500/20 bg-red-500/5 transition-colors hover:bg-red-500/10 hover:border-red-500/40" },
              React.createElement('i', { className: "fas fa-sign-out-alt w-5 text-center" }),
              React.createElement('span', null, "Cerrar Sesión")
            )
          )
        );
      };

      const Navbar = ({ user, loading }) => {
        const [userDropdownOpen, setUserDropdownOpen] = useState(false);
        const userInitial = user ? (user.firstName || user.nickname || 'U').charAt(0).toUpperCase() : '';
        const dropdownMenu = React.createElement('div', { className: "absolute right-0 mt-3 w-64 rounded-xl border border-white/10 bg-[rgba(20,20,20,0.98)] p-3 shadow-2xl backdrop-blur-xl" },
          React.createElement('div', { className: "mb-2 flex items-center gap-3 border-b border-white/10 p-3" },
            loading ? React.createElement(UserInfoSkeleton, { type: "navbar" }) : React.createElement(React.Fragment, null,
              React.createElement('div', { className: "flex h-10 w-10 items-center justify-center rounded-full bg-violet-600 font-bold text-white" }, userInitial),
              React.createElement('div', null,
                React.createElement('p', { className: "text-sm font-semibold text-white" }, user?.nickname),
                React.createElement('p', { className: "text-xs text-gray-500" }, user?.email)
              )
            )
          ),
          React.createElement('a', { href: "/perfil", className: "flex items-center gap-3 rounded-lg px-3 py-2 text-sm text-gray-400 transition-colors hover:bg-white/5 hover:text-white" }, React.createElement('i', { className: "fas fa-user-circle w-5 text-center" }), " Mi Perfil"),
          React.createElement('a', { href: "/dashboard", className: "flex items-center gap-3 rounded-lg px-3 py-2 text-sm text-gray-400 transition-colors hover:bg-white/5 hover:text-white" }, React.createElement('i', { className: "fas fa-th-large w-5 text-center" }), " Dashboard"),
          React.createElement('a', { href: "/configuracion", className: "flex items-center gap-3 rounded-lg px-3 py-2 text-sm text-gray-400 transition-colors hover:bg-white/5 hover:text-white" }, React.createElement('i', { className: "fas fa-cog w-5 text-center" }), " Configuración"),
          React.createElement('div', { className: "my-2 h-px bg-white/10" }),
          React.createElement('a', { href: "/logout", className: "flex items-center gap-3 rounded-lg px-3 py-2 text-sm text-red-500 transition-colors hover:bg-red-500/10" }, React.createElement('i', { className: "fas fa-sign-out-alt w-5 text-center" }), " Cerrar Sesión")
        );
        return React.createElement('nav', { className: "sticky top-0 z-50 flex items-center justify-between bg-[rgba(0,0,0,0.98)] px-6 py-3 md:px-12 backdrop-blur-xl border-b border-white/10" },
          React.createElement('div', { className: "logo" }, React.createElement('a', { href: "/dashboard", className: "text-2xl font-extrabold tracking-tight text-white" }, "OFFSZN")),
          React.createElement('div', { className: "hidden lg:flex items-center gap-10" },
            React.createElement('div', { className: "relative w-96" },
              React.createElement('input', { type: "text", placeholder: "Buscar beats, kits, productores...", className: "w-full rounded-lg border border-white/10 bg-white/5 px-4 py-2 text-sm text-white outline-none transition-all placeholder:text-gray-500 focus:border-violet-500/50 focus:bg-white/[0.08]" }),
              React.createElement('i', { className: "fas fa-search absolute right-4 top-1/2 -translate-y-1/2 text-gray-500" })
            )
          ),
          React.createElement('div', { className: "flex items-center gap-3" },
            React.createElement('a', { href: "/notificaciones", className: "flex h-9 w-9 items-center justify-center rounded-lg border border-white/10 bg-white/5 text-gray-400 transition-colors hover:bg-white/[0.08] hover:text-white" }, React.createElement('i', { className: "fas fa-bell" })),
            React.createElement('a', { href: "/carrito", className: "flex h-9 w-9 items-center justify-center rounded-lg border border-white/10 bg-white/5 text-gray-400 transition-colors hover:bg-white/[0.08] hover:text-white" }, React.createElement('i', { className: "fas fa-shopping-cart" })),
            React.createElement('div', { className: "relative" },
              React.createElement('button', { onClick: () => setUserDropdownOpen(!userDropdownOpen), className: "flex h-9 w-9 items-center justify-center rounded-full bg-violet-600 text-white font-bold transition-transform hover:scale-105" }, loading ? React.createElement('i', { className: "fa-solid fa-spinner fa-spin" }) : userInitial),
              userDropdownOpen && dropdownMenu
            )
          )
        );
      };

      const AnalyticsPage = () => {
        const [email, setEmail] = useState('');
        const [submitted, setSubmitted] = useState(false);
        const handleSubmit = (e) => {
          e.preventDefault();
          if (email) {
            console.log(`Email submitted for notification: ${email}`);
            setSubmitted(true);
          }
        };
        const featureList = React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-6 text-left mb-10" },
            React.createElement('div', { className: "flex items-start gap-3" }, React.createElement('i', { className: "fas fa-chart-bar text-violet-400 mt-1" }), React.createElement('div', null, React.createElement('h3', { className: "font-bold text-white" }, "Seguimiento de Ventas"), React.createElement('p', { className: "text-sm text-gray-500" }, "Visualiza tus ingresos y ventas en tiempo real."))),
            React.createElement('div', { className: "flex items-start gap-3" }, React.createElement('i', { className: "fas fa-fire text-violet-400 mt-1" }), React.createElement('div', null, React.createElement('h3', { className: "font-bold text-white" }, "Kits Más Populares"), React.createElement('p', { className: "text-sm text-gray-500" }, "Descubre cuáles de tus productos son los más vendidos."))),
            React.createElement('div', { className: "flex items-start gap-3" }, React.createElement('i', { className: "fas fa-globe-americas text-violet-400 mt-1" }), React.createElement('div', null, React.createElement('h3', { className: "font-bold text-white" }, "Datos Demográficos"), React.createElement('p', { className: "text-sm text-gray-500" }, "Conoce de dónde vienen tus compradores."))),
            React.createElement('div', { className: "flex items-start gap-3" }, React.createElement('i', { className: "fas fa-users text-violet-400 mt-1" }), React.createElement('div', null, React.createElement('h3', { className: "font-bold text-white" }, "Perfil de Audiencia"), React.createElement('p', { className: "text-sm text-gray-500" }, "Entiende quiénes son tus fans más leales.")))
        );
        const emailForm = submitted ? 
            React.createElement('div', { className: "bg-green-500/10 border border-green-500/30 text-green-300 font-semibold p-4 rounded-lg flex items-center justify-center gap-3" }, React.createElement('i', { className: "fas fa-check-circle" }), React.createElement('span', null, "¡Gracias! Te hemos añadido a la lista.")) :
            React.createElement('form', { onSubmit: handleSubmit, className: "flex flex-col sm:flex-row gap-3" },
                React.createElement('input', { type: "email", value: email, onChange: (e) => setEmail(e.target.value), placeholder: "tu-correo@ejemplo.com", required: true, className: "flex-grow w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-sm text-white outline-none transition-all placeholder:text-gray-500 focus:ring-2 focus:ring-violet-500" }),
                React.createElement('button', { type: "submit", className: "bg-violet-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-violet-700 transition-colors" }, "Notificarme")
            );

        return React.createElement('div', { className: "flex flex-col items-center justify-center w-full p-4" },
            React.createElement('div', { className: "bg-white/5 border border-white/10 rounded-2xl p-8 md:p-12 max-w-3xl w-full text-center" },
                React.createElement('div', { className: "mb-6" }, React.createElement('i', { className: "fas fa-rocket text-6xl text-violet-500" })),
                React.createElement('h1', { className: "text-4xl md:text-5xl font-extrabold text-white tracking-tight mb-4" }, "Analíticas Avanzadas"),
                React.createElement('p', { className: "text-lg text-gray-400 max-w-xl mx-auto mb-8" }, "Estamos construyendo una poderosa herramienta de analíticas para que puedas entender el rendimiento de tus kits, optimizar tus ventas y conectar con tu audiencia como nunca antes."),
                featureList,
                React.createElement('div', { className: "bg-black/20 p-6 rounded-xl border border-white/10" },
                    React.createElement('h3', { className: "text-xl font-bold text-white mb-2" }, "¡Sé el primero en saberlo!"),
                    React.createElement('p', { className: "text-gray-400 mb-6" }, "Déjanos tu correo y te notificaremos en cuanto lancemos esta función."),
                    emailForm
                ),
                React.createElement('div', { className: "mt-10" },
                    React.createElement('p', { className: "text-gray-400 mb-4" }, "Mientras esperas, únete a la conversación en nuestra comunidad:"),
                    React.createElement('a', { href: "https://discord.gg/vX7XktMeBU", target: "_blank", rel: "noopener noreferrer", className: "inline-flex items-center gap-3 bg-[#5865F2] text-white font-bold px-8 py-3 rounded-lg hover:bg-[#4f5bda] transition-all transform hover:scale-105" },
                        React.createElement('i', { className: "fab fa-discord text-xl" }),
                        React.createElement('span', null, "Únete al Discord")
                    )
                )
            )
        );
      };
      
      //================================================================
      // APP ROOT & RENDERER
      //================================================================
      const App = () => {
        const [user, setUser] = useState(null);
        const [loading, setLoading] = useState(true);

        useEffect(() => {
          const loadUser = async () => {
            setLoading(true);
            const userData = await fetchUserData();
            setUser(userData);
            setLoading(false);
          };
          loadUser();
        }, []);

        return React.createElement('div', { className: "min-h-screen bg-[#0a0a0a]" },
          React.createElement(Navbar, { user, loading }),
          React.createElement('div', { className: "grid md:grid-cols-[260px_1fr]" },
            React.createElement(Sidebar, { user, loading }),
            React.createElement('main', { className: "main-content px-6 py-9 md:px-12 flex items-center justify-center" },
              React.createElement(AnalyticsPage)
            )
          )
        );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(React.createElement(React.StrictMode, null, React.createElement(App)));

    </script>
  </body>
</html>
